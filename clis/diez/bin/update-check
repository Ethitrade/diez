#!/usr/bin/env node

const packageJson = require('package-json');
const semver = require('semver');
const {warning, diezVersion} = require('@diez/cli-core');

(async () => {
  try {
    const {version: latestVersion} = await packageJson('@diez/cli-core');
    if (semver.gt(latestVersion, diezVersion)) {
      warning('\n\nYou are using an out-of-date version of Diez. Please upgrade to the latest version!\n\n');
    }
  } catch (_) {
    warning('\n\nUnable to check if Diez is up to date. Are you connected to the Internet?\n\n');
  }
})();
